<!DOCTYPE html><html lang="fr"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Numérion Éducation — Demande d’audit</title>
<meta name="description" content="Formulaire de demande d’audit et simulation IA Numérion.">
<style>
:root{--bg:#0a0a0a;--panel:#121212;--line:#242424;--text:#eaeaea;--muted:#9ca3af;--accent:#c9f31d;--radius:14px;--w:880px}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,Arial,sans-serif}
.wrap{max-width:var(--w);margin:0 auto;padding:32px 20px}
h1{margin:0 0 6px}p{color:var(--muted)}
.card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);padding:18px;margin-top:18px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
label{font-size:.9rem;color:var(--muted)}input,select{width:100%;padding:10px;border-radius:10px;border:1px solid var(--line);background:#0f0f0f;color:#fff}
.btn{margin-top:12px;background:var(--accent);color:#0a0a0a;border:0;border-radius:10px;padding:12px 14px;font-weight:700;cursor:pointer}
.note{font-size:.9rem;color:var(--muted);margin-top:8px}
.ok{color:#22c55e}.err{color:#ef4444}
</style></head><body>
<div class="wrap">
  <h1>Demande d’audit & simulation</h1>
  <p>Renseignez les données clés. Le rapport s’ouvre instantanément.</p>
  <form id="f" class="card">
    <div class="grid">
      <div><label>Société</label><input name="companyName" required placeholder="ACME Industries"></div>
      <div><label>Trésorerie (€)</label><input name="cash" type="number" min="10000" step="100" required placeholder="1250000"></div>
      <div><label>Période</label><input name="period" placeholder="Jan 2025 – Déc 2026"></div>
      <div><label>Horizon (mois)</label><input name="horizonMonths" type="number" min="6" max="36" value="24"></div>
    </div>
    <button class="btn">Générer le rapport</button>
    <div id="msg" class="note"></div>
  </form>
</div>
<script>
const f=document.getElementById('f'), msg=document.getElementById('msg');
f.addEventListener('submit', async (e)=>{
  e.preventDefault(); msg.textContent="Génération en cours…";
  const fd=new FormData(f); const data=Object.fromEntries(fd.entries());
  try{
    const res=await fetch('/api/create-audit',{method:'POST',body:new URLSearchParams(data)});
    if(!res.ok){ msg.textContent="Erreur de génération."; return; }
    const {url}=await res.json();
    msg.innerHTML='<span class="ok">OK</span> Redirection…';
    location.href=url;
  }catch{ msg.textContent="Réseau indisponible."; }
});
</script>
</body></html>
